# 索引类型
## 按存储纬度划分
1）聚簇索引（聚集索引）：索引结构和数据一起存放的索引，InnoDB 中的主键索引就属于聚簇索引。
2）非聚簇索引（非聚集索引）：索引结构和数据分开存放的索引，二级索引(辅助索引)就属于非聚簇索引。MySQL 的 MyISAM 引擎，不管主键还是非主键，使用的都是非聚簇索引。

## 按应用维度划分
1）主键索引：加速查询 + 列值唯一（不可以有 NULL）+ 表中只有一个。
2）普通索引：仅加速查询。唯一索引：加速查询 + 列值唯一（可以有 NULL）。
3）覆盖索引：一个索引包含（或者说覆盖）所有需要查询的字段的值。
4）联合索引：多列值组成一个索引，专门用于组合搜索，其效率大于索引合并。
5）全文索引：对文本的内容进行分词，进行搜索。目前只有 CHAR、VARCHAR ，TEXT 列上可以创建全文索引。一般不会使用，效率较低，通常使用搜索引擎如 ElasticSearch 代替。

## 按数据结构划分
1）B+树索引  
2）hash索引  
3）全文索引  

# 页分裂
B+树的叶子结点索引是有序的，如果索引值是自增的，当插入某一条数据时，如果所在的页空间不足，需要生成新的页来存数据，此时会将当前页的一半数据给挪到新的页上  
解决办法：
1）设置填充因子  
2）重建索引  

# 页合并
当删除记录时，如果相邻的两个页使用率都比较低时，引擎会合并两个页的数据，空闲出一个页来(但并不立即释放, 而是用来存储新数据)  


# 索引合并
对同一个表可以使用多个索引分别进行条件扫描，然后将结果进行合并处理，然后在进行回表查询  
```
select * from t where key1 = 1 or key2 = 1;
```


三种方式：  
1）取交集  
2）取并集  
3）排序后取并集  


## 参考资料
索引合并  
https://developer.aliyun.com/article/1055480

