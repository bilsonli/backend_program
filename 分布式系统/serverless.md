# serverless 理解

## 云计算的三种服务模式
### IaaS
基础设施即服务 （阿里云服务器，腾讯云服务器）  

### PaaS
平台即服务 （mysql ，redis …） Docker 就是基于Pass产生的虚拟化容器技术  

### SaaS
软件即服务 在云上直接可以访问无需本地化部署安装，类似钉钉，云上OA，教务系统（需求变化不大，具有很强的通用性）  

### 三者区别
如果你想搭建一个博客网站。不采用云服务，你所需要准备的大概是：买服务器，安装服务器软件，编写博客网站代码。  
IaaS  
如果你采用IaaS服务，那么意味着你就不用自己买服务器了，随便在哪家购买虚拟机，但是还是需要自己装服务器软件  
PaaS  
如果你采用PaaS的服务，那么意味着你既不需要买服务器，也不需要自己装服务器软件，只需要自己编写博客网站代码  
SaaS  
如果你再进一步，直接就在CSDN上写博客，那么也不需要自己编写博客网站代码了，CSDN会负责博客的升级、维护、增加服务器等，而你只需要专心写博客即可，此即为SaaS。  

## serverless
服务端逻辑由开发者实现，运行在无状态的计算容器中，由事件触发， 完全被第三方管理，而业务层面的状态则记录在数据库或存储资源中    

### 特点
1、弱化了存储和计算之间的联系。服务的储存和计算被分开部署和收费，存储不再是服务本身的一部分，而是演变成了独立的云服务，这使得计算变得无状态化，更容易调度和扩缩容，同时也降低了数据丢失的风险。  
2、代码的执行不再需要手动分配资源。不需要为服务的运行指定需要的资源（比如使用几台机器、多大的带宽、多大的磁盘等），只需要提供一份代码，剩下的交由 serverless 平台去处理就行了。
当前阶段的实现平台分配资源时还需要用户方提供一些策略，例如单个实例的规格和最大并发数，单实例的最大 cpu 使用率。理想的情况是通过某些学习算法来进行完全自动的自适应分配。  
3、按使用量计费。Serverless 按照服务的使用量（调用次数、时长等）计费，而不是像传统的 serverful 服务那样，按照使用的资源（ECS 实例、VM 的规格等）计费。  

### baas
后端即服务，一般是一个个的 API 调用后端或别人已经实现好的程序逻辑，比如身份验证服务 Auth0，这些 BaaS 通常会用来管理数据，还有很多公有云上提供的我们常用的开源软件的商用服务，
比如亚马逊的 RDS 可以替代我们自己部署的 MySQL，还有各种其它数据库和存储服务。  

### faas
函数即服务，FaaS 是无服务器计算的一种形式，当前使用最广泛的是 AWS 的 Lambada   

### 适用场景：
1、异步的并发，组件可独立部署和扩展  
2、应对突发或服务使用量不可预测（主要是为了节约成本，因为 Serverless 应用在不运行时不收费）  
3、短暂、无状态的应用，对冷启动时间不敏感  
4、需要快速开发迭代的业务（因为无需提前申请资源，因此可以加快业务上线速度）  

### 场景示例如：
ETL  
机器学习及 AI 模型处理  
图片处理  
IoT 传感器数据分析  
流处理  
聊天机器人  
